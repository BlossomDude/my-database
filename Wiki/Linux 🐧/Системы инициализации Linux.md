---
Owner: Blossom Dude
Last edited time: 2024-01-24T11:05
Created time: 2023-07-14T16:13
---
> [!important]  
> Узнать систему инициализации:ls -l /sbin/initstat /proc/1/exe  

После загрузки ядра, **начинается процесс инициализации**, он запускается ядром сразу после завершения загрузки, имеет **PID 1**, и **будет выполняться пока работает система.**

  

Процесс инициализации запускает другие процессы. Если какой либо процесс завершается, для его дочернего процесса родительским становится процесс инициализации.

  

**1) System V Init - SysV**

> Старая, но до сих пор популярная система инициализации. Была основной для многих других систем инициализации.

- Написание файлов запуска служб на bash;
- Последовательный запуск служб;
- Сортировка порядка запуска с помощью номеров в именах файлов;
- Команды для запуска, остановки и проверки состояния служб.

> [!important]  
> Нет параллельной загрузки, системы зависимостей, запуска по требованию и автоматического запуска в ней нет.  

**2) OpenRC**

> Совместима с **SysV.** Она приносит некоторые улучшения **SysV** и совместима с ней. **Но OpenRC не заменяет полностью файл /sbin/init.** Используется в системах Gentoo и BSD.

- Поддержка зависимостей служб;
- Поддержка параллельного запуска служб;
- Поддерживает настройку в одном отдельном файле;
- Работает как демон;

> [!important]  
> По сравнению с SysV тут появилось много новых возможностей, но все еще не все те, что нужны для оптимальной работы системы.  

**3) SystemD**

[[Targets SystemD]]

> Очень популярная. По умолчанию стоит почти во всех дистрибутивах. Так же эта система является набором для управления службами и возможностями системы. **Основная цель - иметь полный контроль над всеми процессами во время их запуска и на протяжении всего выполнения.**

- Параллельная загрузка служб на основе зависимостей;
- Поддерживается завершение дополнительных процессов;
- Поддерживается собственный журнал с помощью journald;
- Поддерживается планирование заданий с помощью таймеров Systemd;
- Поддерживается управление сетью с помощью networkd;
- Для управления DNS используется systemd-resolved;
- Хранение журналов в бинарных файлах;
- Сохранение состояния сервисов linux systemd для возможного восстановления;
- Запуск сервисов по требованию;

> [!important]  
> Отличается от всех существующих систем инициализации работой с сервисами и даже с конфигурационными файлами сервисов. Нет совместимости со скриптами SysV, их нужно преобразовывать в linux systemd unit файлы.  

**4) Runinit**

> Кроссплатформенная система инициализации, **которая может работать в GNU Linux, Solaris, BSD и MacOS.** Это отличная альтернатива для **SysV** с поддержкой мониторинга состояния служб.

- Полный контроль сервисов, каждый сервис привязывается к своему каталогу;
- Надежное средство журналирования и ротации логов;
- Быстрая система загрузки и выключения;
- Портативность;
- Легкое создание файлов конфигурации служб;
- Небольшое количество кода системы инициализации.

**5) Upstart**

> система инициализации на основе событий, разработанная в Canonical и призванная заменять SysV. Она может запускать системные службы, выполнять над ними различные задачи, инспектировать их во время выполнения, а также выполнять нужные действия в ответ на события в системе.

- Изначально разработанная для Ubuntu, но может использоваться и в других дистрибутивах;
- Запуск и остановка служб на основе событий;
- Генерация событий во время запуска и остановки служб;
- События могут быть отправлены обычными процессами;
- Связь с процессом инициализации через DBus;
- Пользователи могут запускать и останавливать свои процессы;
- Перезапуск служб, которые неожиданно завершились;
- Параллельная загрузка сервисов;
- Автоматический перезапуск служб;

> [!important]  
> Большинство ее возможностей работают благодаря интеграции с системой инициализации Systemd. В последнее время всё меньше используются скрипты SysV init и всё больше применяются юнит файлы Systemd. Рано или поздно Systemd вытеснит и полностью заменит Upstart в Ubuntu.  

  

Вопросы: