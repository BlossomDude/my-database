---
Owner: Blossom Dude
Last edited time: 2024-05-28T20:14
Created time: 2023-07-04T14:13
---

## Без тега

`du`
	`-sh <file>` - Посмотреть размер файла

`iptables`
	`-L` - Список текущих правил
	`-A INPUT` - Добавить правило 
	`-I OUTPUT` - Добавить правило в начало списка правил
	`-D OUTPUT 5` - Удалить (пятое output) правило
	`-p tcp` - Протокол
	`-s` - source
	`-d` - destination
	`-dport 22` - dectination port 
	`-j ACCEPT` - какое выполнить действие

`useradd username` - Создание пользователя
	`-с` - Добавить комментарий
	`-d` - Указать домашний каталог
	`-e` - Дата истечения срока УЗ
	`-g` - Указать GID группы
	`-G` - добавить несколько групп
	`-s` - пользовательский логин оболочки
	`-u` - пользовательский UID
`userdel username` - удалить пользователя

`pvcreate /dev/sda` - создать физический том
`pvdisplay` - показать физический том
`vgcreate name_vg /dev/sda /dev/sdb...`  - создать группу томов
`vgdisplay` - показать подробности групп томов
`lvcreate -L 1G -n vol1 name_vg` - Создать линейный LVM с 1Гб объемом и именем name_vg 
`lvresize -L +1G -n /dev/name_vg/vol1` - добавить 1Гб к созданному ранее LVM
`lvdisplay` - показать LVM

`resize2fs /dev/name_vg/vol1` - Расшить файловую систему 

`chgrp -R group /some_dir` - Поменять группу директории
`groupadd -g 1011 groupname` - создать группу и выбрать GID 1011.
`groupdel groupname` - удалить группу

`id username` - Посмотреть имя пользователя, его группы , UID, GID

`tar`
	`-cf <tar_name.tar file1 file2...>`  - Создать тар-архив
	`-tf <tar_name.tar>` - Посмотреть содержимое тар-архива
	`-xf <tar_name.tar>` - Распаковать тар-архив
	`-zcf <tar_name.tar file1 file2...>` -  Сжать в тар-архив
`bzip2 <file.txt>` - Сжать в bzip2
	`bunzip2 <file.txt>` - Разархивировать
	`bzcat <file.txt.bz2>` - Посмотреть содержимое без разархивации(bz/zip)
`gzip <file.txt>` - Сжать в gzip
	`gunzip2 <file.txt>` - Разархивировать
	`zcat <file.txt.gz>` - Посмотреть содержимое без разархивации
`xz <file.txt>` Сжать в xz
	`unxz <file.txt>` - Разархивировать
	`xzcat <file.txt.xz>` - Посмотреть содержимое без разархивации


`stat some_file` -  команда для вывода метаданных файлов
	`stat --printf "File %n has been modified %y\n" /etc/passwd /etc/group` - выведет информацию о файле. 

`locate file.txt` - выполняет поиск файла в БД mlocate.db

`updatedb` - Обновит базу данных mlocate.db

`grep`
	`-i` - игнорировать регистр
	`-r` - искать рекурсивно в подкаталогах
	`-v` - выведет все строчки в которых нет заданного паттерна
	`-w` - выведет только точные совпадения а не вхождения слов
	`-A3` - вывести три строки после нахождения
	`-B2` - вывести две строчки перед нахождением слова

tee
	`echo "text" | tee text.txt` - перенаправляет вывод в файл
	`echo "text" | tee -a text.txt` - запишет поверх уже имеющегося текста

| Команда                    | Описание                                                            | Примечание                                                                                |
| -------------------------- | ------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- |
| `blkid`                    | Выводит UUID диска\флешки\носителя.                                 |                                                                                           |
| `update-alternatives`      | Поможет установить определенную версию программы по умолчанию.      |                                                                                           |
| `**nproc**`                | Показывает количество процессоров                                   |                                                                                           |
| `lsof`                     | Утилита, отображающая какими файлами пользуются разными процессами. | Знак «^» (крышка) - означает отрицание.                                                   |
|                            |                                                                     |                                                                                           |
| `service status “service”` | Управление сервисами от [[Системы инициализации Linux]]             |                                                                                           |
| `trap`                     | при возникновении сигнала будет выполнено указанное действие.       | `trap -l` - список всех сигналов                                                          |
| `sysctl`                   | Команда для настройки и изменения параметров ядра.                  |                                                                                           |
| `nice -5 ./script.sh`      | Команда которое ставит приоритет процессорного времени              | `renice -10 *PID/user*` - для изменения параметра работающего процесса. или пользователя. |
| `set`                      | Изменение параметров, атрибутов оболочки                            | `set -x` включить отладку скрипта                                                         |
|                            |                                                                     | [[stat. форматирование вывода]]                                                           |
| `strace`                   | Утилита для отслеживания [[Системные вызовы]]                       |                                                                                           |

## Текст

|             |                                               |                                        |
| ----------- | --------------------------------------------- | -------------------------------------- |
| `awk`       | Инструмент для обработки и фильтрации текста. | `**$ awk опции 'условие {действие}'**` |
| `cut`       |                                               |                                        |
| `fold`      |                                               |                                        |
| `head\tail` |                                               |                                        |
| `grep`      |                                               |                                        |
| `paste`     |                                               |                                        |
| `sort`      |                                               |                                        |
| `sed`       |                                               |                                        |
| `tr`        |                                               |                                        |
| `uniq`      |                                               |                                        |
| `wc`        | Анализ файла. Подсчет строк, слов, символов   |                                        |


## Железо, аппаратная часть

`gdisk` - программа для работы с дисками и разделами

|           |                                               |     |
| --------- | --------------------------------------------- | --- |
| `udevadm` | Запрос в базу данных udev                     |     |
| `dmesg`   | Логи ядра                                     |     |
| `lspci`   | Информация о PCI-шинах и устройствах на них   |     |
| `lsblk`   | Информация о дисках и устройствах             |     |
| `lscpu`   | Информация о процессоре                       |     |
| `free`    | Статистика используемой и свободной ОЗУ       |     |
| `lshw`    | Детальная информация о компонентах компьютера |     |

## Пакетные менеджеры

apk
```bash
apk add *pkg_name* #установить пакет их реп
apk del *pkg_name* #удалить пакет
apk upgrade #Обновление всех пакетов и их установка
apk serach *pkg_name* #поиск
apk cache clean #очистка кэша 

```

apt
```bash
apt purge Удаляет приложение и полностью все настройки 
apt update #Обновить репозиторий
apt upgrade #Обновить пакеты
apt edit-sources #редактировать список репозиториев
apt search #Искать пакет в репозитории
apt list #Вывод всех доступных пакетов
```
dpkg
```bash
dpkg -i #Установить пакет
dpkg -r #Удалить пакет
dpkg -l #Описание пакета
dpkg -s #Статус пакета
dpkg -p <path-to-file> #Подробное описание пакета
```

dnf
`dnf --showduplicates list *pkg_name*`  Посмотреть список доступных пакетов.

rpm
``` bash
rpm -qa #Вывести все пакеты. 
rpm -e *pkg_name* #Удалить пакет
rpm -ivh  #установить пакет
rpm -Uvh #обноваить
rpm -q #информация о пакете
rpm -Vf #верификация пакета
```
yum
``` bash
yum repolist # посмотреть все добавленные репозитории
yum provides # информация о пакете
yum remove # удалить пакет
yum update # обновить пакеты или один пакет
```

## SystemD

### Systemctl

|                                          |                                                                       |
| ---------------------------------------- | --------------------------------------------------------------------- |
| `systemctl isolate target_name.target`   | Перейти в таргет target_name                                          |
| `systemct get-default`                   | Вывести текущий таргет                                                |
| `systemctl list-units --all`             | Показывает весь список управляемых юнитов которые загружены в память. |
| `systemctl daemon-reload`                | Обновит конфигурацию systemctl, применяем после создания юнита        |
| `systemctl set-default -f <Имя таргета>` | Установить таргет по умолчанию.                                       |
| `systemctl enable` `_*demon*_`           | Включить автозагрузку сервиса (disable-выключить)                     |
| `systemctl daemon-reload`                | Прикажет systemd прочитать заново unit-файлы и определить новые       |
| `systemctl edit name.service --full`     | Открыть файл конфигурации сервиса в текстовом редакторе               |

`journalctl` - получить все логи
	`-b` - логи текущего сеанса (boot'a)
	`-u name.service` - логи сервиса 
## Сеть

`firewall-cmd --permanent --zone=public --add-port=3000/tcp`
	`firewall-cmd --permanent --add-service=http` - разрешить http
`ip route add 1.1.1.1 via 2.2.2.2` - Прописать маршрут до 1 через 2 
`ip route add default via 1.1.1.1` - Добавить шлюз со значением 1   
`nethogs` - выводит программы по списку, от наиболее затратных до наименее.
## SSH

`ssh`
	`-p 5022` - использовать специфичный порт
`ssh-copy-id user@server` - Скопировать ключ на сервер
`ssh-keygen` - создать пару ключей
	`-i path\to\file` - путь до ключа
	`-t ed25519` -  выбрать тип шифрования
`scp /src user@server:/dest` - копирует файл на удаленный сервер

## Man

Если ты хочешь получить мануал по команде то тебе стоит вводить команду:
`man 1 printf`, так как существует функция с таким же названием.
```
       1   Executable programs or shell commands
       2   System calls (functions provided by the kernel)
       3   Library calls (functions within program libraries)
       4   Special files (usually found in /dev)
       5   File formats and conventions, e.g. /etc/passwd
       6   Games
       7   Miscellaneous (including macro packages and conventions),
            e.g. man(7), groff(7), man-pages(7)
       8   System administration commands (usually only for root)
       9   Kernel routines [Non standard]
```

`man man` - мануал по man
`mandb` - Обновляет базу данных man
`apropos` - команда для поиска утилит по описанию. 
	`apropos create file` -> `touch`
	`-s 1,2,4` -  искать в  определенных разделах
	 
