---
Owner: Blossom Dude
Last edited time: 2023-08-28T20:56
Created time: 2023-08-23T15:35
---
Статический NAT

- внутренний адрес преобразуется в белый адрес
- статический нат бесполезен, так как для каждого конечного узла нужен сопостовляемый белый адрес
- Сначала на роутере нужно указать какой интерфейс будет отправлять/принимать трафик изве, а какой порт будет получать/отправлять трафик внутри.
    - `ip nat inside g0/0` - интерфейс в сеть
    - `ip nat outside g0/1` - интерфейс внутрь
    - `ip nat inside source static *серый_айпи* *белый*` - добавить строку в лист маршрутизации NAT
- Является постоянным, и удалится только после удаления администратором в отличии от динамического NAT

  

Динамический NAT

- так же внутренний адрес преобразуется в один белый
- является не постоянным, так как после того как некоторое время (по умолчанию 24 часа) не будет поступать трафик с одного доменного хоста, то запись удалится. Если будет использоваться NAT определенным ip то таймер сбрасывается.
- Можно самому установить необходимое время.
- Как и в статическом нужно сначала открыть включить NAT на интерфейсах
    
    - `access-list 1 permit 192.168.0.09 0.0.0.255` - Добавляет в Access list Control 1(наименование листа) запись о разрешении данного адреса пользоваться протоколом NAT
    
    > [!important]  
    > 0.0.0.255 - в данном случае, является маской 24  
    
    - `ip nat pool POOL1 100.0.0.0 100.0.0.255 netmask 24` - создает пул белых адресов POOL1, которыми могут пользоваться хосты за роутером и указывает маску белых адресов.
    - `ip nat inside source list 1 pool POOL1` - сопостовляет ACL c пулом адресов
    
      
    
    PAT - Port Adress Translation (NAT Overload)
    
    - Так же как и в обычном NAT нужно сначала открыть включить NAT на интерфейсах
        
        - `access-list 1 permit 192.168.0.09 0.0.0.255` Добавляет в Access list Control 1(наименование листа) запись о разрешении данного адреса пользоваться протоколом NAT
        - `ip nat pool POOL1 100.0.0.0 100.0.0.255 netmask 24` - создает пул белых адресов POOL1, которыми могут пользоваться хосты за роутером и указывает маску белых адресов.
        - `ip nat inside source list 1 pool POOL1 overload` - сопостовляет ACL c пулом адресов, а так же нужно добавить ключевое слово `overload,` что-бы указать что будет использоваться переадресация портов.
            - `ip nat inside source list 1 interface g0/0 overload` - можно настроить только один внешний адресс роутера использовался в качестве NAT. То есть будет не пул адресов, а только один адрес. В этом случае создавать пул не нужно.