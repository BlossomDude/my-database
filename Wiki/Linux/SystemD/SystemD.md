---
Owner: Blossom Dude
Last edited time: 2023-11-28T10:40
Created time: 2023-07-18T09:52
---
Местонахождение всех сервисов systemd:
`/lib/systemd/system` 

# Unit - элемент SystemD

- .service - службы
- .mount - точки монтирования
- .device - устройства
- .socket - сокеты
- .target - цели.
- .automount
- .path
- .scope
- .slice
- .swap
- .timer`

`/usr/lib/systemd/user/` где находятся службы, относящиеся к установленным пакетам.

`/etc/systemd/user/` где находятся общесистемные пользовательские службы, созданные системным администратором.

`systemctl list-units` - показывает весь список управляемых юнитов которые на данный момент находятся в памяти.

`systemctl list-dependencies` - вывод важных системных единиц systemd и их состояние.


# Target

### **Соответствие уровней SysV целям systemd**

|   |   |   |
|---|---|---|
|Уровень запуска SysV|Цель systemd|Примечания|
|0|runlevel0.target, poweroff.target|Выключение системы|
|1, s, single|runlevel1.target, rescue.target|Однопользовательский уровень запуска|
|2, 4|runlevel2.target, runlevel4.target, multi-user.target|Уровни запуска, определенные пользователем/специфичные для узла. По умолчанию соответствует уровню запуска 3|
|3|runlevel3.target, multi-user.target|Многопользовательский режим без графики. Пользователи, как правило, входят в систему при помощи множества консолей или через сеть|
|5|runlevel5.target, graphical.target|Многопользовательский режим с графикой. Обычно эквивалентен запуску всех служб на уровне 3 и графического менеджера входа в систему|
|6|runlevel6.target, reboot.target|Перезагрузка|
|emergency|emergency.target|Аварийная оболочка|

# JournalD - служба журналирования.

> [!important]  
> Примеры команд:journalctl -n 10 - последние 10 событийjournalctl _UID=0 - список событий юзера с id 0  

**Journald -** собирает логи со всей системы и сохраняет их в бинарных файлах.

  

Логи по умолчанию удаляются после перезагрузки, но можно настроить их на постоянное хранение.

  

Если мы хотим просмотреть только ошибки, игнорируя другие сообщения, введем команду с указанием кода важности:

`journalctl -p 0`

Для уровней важности, приняты следующие обозначения:

- 0: emergency (неработоспособность системы)
- 1: alerts (предупреждения, требующие немедленного вмешательства)
- 2: critical (критическое состояние)
- 3: errors (ошибки)
- 4: warning (предупреждения)
- 5: notice (уведомления)
- 6: info (информационные сообщения)
- 7: debug (отладочные сообщения)

> [!important]  
> Когда вы указываете код важности, journalctl выведет все сообщения с этим кодом и выше. Например если мы укажем опцию -p 2, journalctl покажет все сообщения с уровнями 2, 1 и 0.  

