---
Owner: Blossom Dude
Last edited time: 2024-02-02T18:17
Created time: 2023-08-07T20:21
---
**Контейнер** - это

**Образ (Image) -** Образ, стек слоев только для чтения.

![[243a011ed04f455099a4ba64a87736f6.png]]

Слева мы видим стек слоев для чтения. Они показаны только для понимания внутреннего устройства, они доступны вне запущенного контейнера на хост-системе. Важно то, что они доступны только для чтения (иммутабельны), а все изменения происходят в верхнем слое стека. Каждый слой может иметь одного родителя, родитель тоже имеет родителя и т.д. Слой верхнего уровня может быть использован как UnionFS (AUFS в моем случае с docker) и представлен в виде единой read-only файловой системы, в которой отражены все слои. Мы видим эту «сущность» образа на рисунке справа.  
  

**Контейнер** - основной и самый маленький элемент в мире docker. 1 контейнер = 1 приложение.

  

**Компоненты Docker:**

- **client** - консольный клиент, который взаимодействует со службой
- **daemon** - служба
- **host** - на котором запущена служба docker
- **container** - развернутое и запущенное приложение
- **image** - образ
- **repository** - в нем находятся различные версии образа(image).
- **registry** - репозиторий, в котором хранятся образы. DockerHub например.

  

  

**Как работают containers?**

![[/Untitled 10.png|Untitled 10.png]]

У контейнера свое изолированное место на диске, так же у него имеются изолированные процессы от других контейнеров и системы. Контейнеры используют общее ядро линукс, cpu, ram и сеть.

> [!important]  
> Docker выключает контейнер если на нем нет процессов  

  

**Образ (Image)** - с одного образа можно создать несколько контейнеров. После скачивания образа он хранится на диске в кэше docker.

  

![[/Untitled 1 2.png|Untitled 1 2.png]]

![[/Untitled 2 2.png|Untitled 2 2.png]]

**Строение образов:**

- Каждый слой это набор файлов.
- Каждый образ состоит из слоев
- Все слои read-only. Образы хранятся в репозиториях.
- Есть официальные образы и образы сообщества.

