---
Owner: Blossom Dude
Last edited time: 2023-11-15T17:40
Created time: 2023-11-15T17:40
---
Доп. вопросы

Как работает DHCP?

Источники

Клиенту (серверу) не удалось получить сетевые настройки по DHCP, поэтому был выставлен адрес в диапазоне 169.254.0.0 – 169.254.255.255.

# Доп. вопросы

## Как работает DHCP?

_**DHCP**_ - протокол прикладного уровня, работающий на 67 порту и ответственный за определение IP-адресов в локальной сети. Объясню работу протокола по акрониму **DORA**:

1. **D**iscover - Клиент в состоянии инициализации отправляет широковещательный (_broadcast_) запрос `DHCPDISCOVER` в локальной сети.
2. **O**ffer - Сервер смотрит в scope доступных IP-адресов и отвечает клиенту широковещательным или прямым (_unicast_) запросом `DHCPOFFER` с IP-адресом. P.S. IP-адрес выдается на время, но мы можем зарезервировать клиенту адрес.
3. **R**equest - Клиент, получив предложение с IP-адресом от сервера, отправляет широковещательный запрос `DHCPREQUEST` с согласием взять IP-адрес.
4. **A**cknowledgement - Сервер получив `DHCPREQUEST` от клиента помечает IP-адрес занятым и отвечает клиенту запросом `DHCPACK`, который так же содержит продолжительность аренды адреса.

![[/Untitled 29.png|Untitled 29.png]]

# Источники

1. (статья) **Клиенты получают неверные настройки (IP-адреса) по DHCP**: [https://gb.ru/posts/klienty-poluchayut-nevernye-nastrojki-ip-adresa-po-dhcp](https://gb.ru/posts/klienty-poluchayut-nevernye-nastrojki-ip-adresa-po-dhcp)
2. (статья) **Принципы работы протокола DHCP**: [https://selectel.ru/blog/dhcp-protocol/](https://selectel.ru/blog/dhcp-protocol/)