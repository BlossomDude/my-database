---
Owner: Blossom Dude
Last edited time: 2023-08-30T13:48
Created time: 2023-08-22T19:59
---
Протокол пограниченного шлюза.

- маршрутизирует трафик между двумя автономными системами
    - **AS - автономная сеть** - сеть или набор подсетей которые объедененны общей внутренне политикой маршрутизации
- ==**BGP - настраивается в ручную**==
    - После настройки роутеров роутеры обмениваются **OPEN** сообщениями, в которых содержится
        - **ASN** - идентификатор автономной системы
        - **RouterID** - id роутера
        - **Hold timer** - это время в течении которого будет поддерживаться **TCP** сессия
    - Если одному роутеру чтото не понравится, например не совпадет **ASN**, то этот роутер отправит сообщение **NOTIFICATION** и сбросит **TCP сессию**.
    - Если все условия соблюдаются, то маршрутизаторы посылают друг-другу сообщения с определенной периодичностью - **KEEP ALIVE** - которое означаект что роутер отправитель жив и он работает.
        - После этого маршрутизаторы могут присылать друг другу маршрутной информацией **UPDATE:**
            - **Path atributes** - информация о маршруте, из какой **АС** поступил маршрут и следующий роутер для этого пути
            - **NRLI - Network Layer Reachability Information** - в нем указывается информация о сетях которую нужно добавить в таблицу маршрутизации.
                - Сообщение **UPDATE** будет передаваться каждый раз когда какой-либо маршрутизатор будет узнавать информацию о новых сетях.
    - **BGP** определяет маршрут пакета на основе текущей сложности маршрута, колличества хопов.
    - Каждый роутер передает информацию о своей **АС** другим роутерам.