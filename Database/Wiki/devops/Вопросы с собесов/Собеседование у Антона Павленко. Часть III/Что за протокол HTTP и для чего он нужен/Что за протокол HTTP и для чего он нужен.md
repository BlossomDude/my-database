---
Owner: Blossom Dude
Last edited time: 2023-11-15T17:41
Created time: 2023-11-15T17:41
---
Доп. вопросы

Какие методы (глаголы) HTTP ты знаешь?

Какие коды ответа HTTP ты знаешь?

Чем отличаются HTTP 1.0, 1.1, 2 (HTTP 3.0)?

Ограничения HTTP/1 по сравнению с HTTP/2 и HTTP

Как работает HTTPS?

Чем отличается симметричное от асимметричное шифрование?

Источники

_**HTTP**_ (_HyperText Transfer Protocol_) - протокол передачи гипертекста представляет собой протокол прикладного уровня, используемый для доступа к ресурсам Интернета.

# Доп. вопросы

## Какие методы (глаголы) HTTP ты знаешь?

- **GET** - получить ресурс
- **POST** - отправка данных
- **PUT** - создать ресурс
- **PATCH** - изменить ресурс
- **DELETE** - удалить ресурс
- **HEAD** - получение только заголовков
- **OPTIONS** - получение информации о сервере и списке доступных методов

## Какие коды ответа HTTP ты знаешь?

- 1xx - информационные
- 2xx - успешные
- 3xx - редирект
- 4xx - ошибка на стороне клиента
- 5xx - ошибка на стороне сервера

## Чем отличаются HTTP 1.0, 1.1, 2 (HTTP 3.0)?

Главная причина появления версий **HTTP/2** и **HTTP/3** - _скорость:_

- загрузки страницы
- установления соединения
- обмена данными между:
    - сервером и страницей
    - сервисами

### Ограничения HTTP/1 по сравнению с HTTP/2 и HTTP

Рассмотрим несколько ограничений:

- Блокировка соединения.
- Время на установление соединения.
- Объём обязательных данных.

---

**Блокировка соединения**

В **HTTP/1** блокируется соединение, это сильно сказывается на работу, так как клиент ждет ответа сервера и для более менее быстрой загрузки страницы клиенту требуется одновременно открывать несколько TCP-соединений.

![[/Untitled 26.png|Untitled 26.png]]

(Каждая линия - одно соединение)

В **HTTP/2** эту проблему решили и теперь в то время, когда клиент ждет ответа от сервера, он посылает асинхронно другие запросы.

![[/Untitled 1 9.png|Untitled 1 9.png]]

Как мы видим в **HTTP/2** открывается только одно соединение и полная загрузка страницы заняла меньше 6 секунд, против 14 секунд с **HTTP/1**.

Проверяем через консоль разработчика HTTP (**HTTP/1**) и HTTPS (**HTTP/2**) на сайте: [https://www.httpvshttps.com/](https://www.httpvshttps.com/)

---

**Время на установление соединения**

Время на установление соединения измеряется суммой рукопожатий для установки соединения. Для **HTTP/1** + TLS нам нужно сделать 1 рукопожатие для установки TCP, 1 - 2 рукопожатия для TLS (в зависимости от версии протокола). Это значит, что в предыдущем примере нам пришлось сделать 6 (соединений) * 2 (до 3) = 12 - 18 рукопожатий.

В случае **HTTP/2**, так как у нас 1 соединение, то у нас от 2 до 3 рукопожатий.

В **HTTP/3** из-за использования QUIC в качестве протокола транспортного уровня, всего одно рукопожатие.

---

**Объём обязательных данных**

Для **HTTP/1** чтобы получить ответ из 1 символа, нам всё равно надо отправить HTTP заголовок в виде текста, в котором могут быть присоединены _cookie_, который может быть одинаковым для сотни запросов. Почему вопрос именно про заголовок? Потому-что - это не уникальные данные требующиеся для каждого запроса.

В HTTP/2 и HTTP/3 для того, чтобы уменьшить объём по сравнению с первой версией, заголовки стали:

- передавать в **бинарном** виде, а не текстом, как раньше - такой вид удобнее для машины и занимает меньше места;
- сжимать **специальным алгоритмом**, который позволяет не отправлять повторяющиеся части заголовка, заменяя их указателями на уже полученные ранее сервером такие же части.

## Как работает HTTPS?

HTTPS - это использование HTTP поверх протокола TLS.

Установка HTTPS-соединения:

1. Установка TCP-соединения
2. Клиент отправляет сообщение ClientHello серверу
3. Сервер отвечает сообщением ServerHello клиенту
4. Сервер отправляет сертификат
5. Клиент проверяет сертификат:
    1. проверяет данные по своим спискам доверенных центров (список есть в каждом браузере)
    2. проверяет совпадение CN с доменным именем
    3. даты выпуска и срока окончания сертификата
    4. отсутствие в CRL
    5. поддерживаемые алгоритмы
    6. наличие издателя в списке доверенных корневых сертификатов и в списке доверенных издателей
6. (если выбран протокол шифрования RSA) клиент генерирует промежуточный ключ, шифрует его открытым ключом из сертификата и передает его серверу
7. Клиент и сервер генерируют симметричный и MAC ключи на основе промежуточного ключа
8. Клиент отправляет серверу сообщение ChangeCipherSpec, где клиент говорит о том что готов отправлять сообщения с новыми ключами
9. Клиент отправляет первое зашифрованное сообщение Finished
10. Сервер отвечает клиенту сообщением ChangeCipherSpec
11. Сервер посылает клиенту зашифрованное сообщение Finished

**TLS-соединение установлено.**

## Чем отличается симметричное от асимметричное шифрование?

<TODO>

# Источники

1. (статья) **HTTP-запросы: структура, методы, строка статуса и коды состояния**: [https://selectel.ru/blog/http-request/](https://selectel.ru/blog/http-request/)
2. (статья) **HTTP 1, 2 и 3 — просто**: [https://habr.com/ru/articles/739166/](https://habr.com/ru/articles/739166/)
3. (ресурс) **HTTP vs HTTPS Test**: [https://www.httpvshttps.com/](https://www.httpvshttps.com/)
4. (статья) **В чем разница протоколов HTTP и HTTPS**: [https://selectel.ru/blog/http-https/](https://selectel.ru/blog/http-https/)
5. (видео) **Установка соединения в TLS**: [https://www.youtube.com/watch?v=lKfyM980cOw&list=PLtPJ9lKvJ4oiFnWCsVRElorOLt69YDEnv&index=6](https://www.youtube.com/watch?v=lKfyM980cOw&list=PLtPJ9lKvJ4oiFnWCsVRElorOLt69YDEnv&index=6)